# Video-to-Notes Skill | è§†é¢‘è½¬ç¬”è®°æŠ€èƒ½

<div align="center">

ğŸš€ **å°† YouTube å’Œ Bilibili è§†é¢‘è½¬æ¢ä¸º AI ç”Ÿæˆçš„ Markdown ç¬”è®°**

æœ¬åœ° Whisper è½¬å½• + OpenRouter API æ™ºèƒ½æ€»ç»“

[![Python](https://img.shields.io/badge/Python-3.10+-blue)](https://python.org)
[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)
[![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey)]()

ğŸŒ **å…¶ä»–è¯­è¨€**: [English](README.md)

</div>

---

## ä»€ä¹ˆæ˜¯ Video-to-Notesï¼Ÿ

å°† YouTube å’Œ Bilibili è§†é¢‘è½¬æ¢ä¸ºç»“æ„åŒ–çš„ AI é©±åŠ¨ Markdown ç¬”è®°ï¼Œä½¿ç”¨æœ¬åœ° Whisper è½¬å½•ï¼ˆå…è´¹ï¼‰+ OpenRouter API è¿›è¡Œæ€»ç»“ã€‚

**ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ä¸ªï¼Ÿ**
- ğŸ’° **æˆæœ¬æ•ˆç›Š**: æœ¬åœ°è½¬å½•å…è´¹ï¼Œä»… AI æ€»ç»“ä»˜è´¹ï¼ˆçº¦ $0.02-0.05/è§†é¢‘ï¼‰
- ğŸ”’ **éšç§ä¿æŠ¤**: éŸ³é¢‘æœ¬åœ°å¤„ç†ï¼Œç»ä¸ç¦»å¼€ä½ çš„æœºå™¨
- ğŸŒ **å¤šå¹³å°**: YouTubeã€Bilibili
- âš¡ **å¿«é€Ÿ**: 8åˆ†é’Ÿè§†é¢‘åªéœ€2-3åˆ†é’Ÿ
- ğŸ“ **æ ¼å¼è§„èŒƒ**: è‡ªåŠ¨ä½¿ç”¨ Markdown ä»£ç æ ¼å¼ï¼ˆ`å•è¡Œä»£ç `ã€```å¤šè¡Œä»£ç ```ï¼‰
- ğŸ’¡ **æ™ºèƒ½æ‰©å±•**: å¯¹å¤æ‚æ¦‚å¿µè‡ªåŠ¨æä¾›æ¸…æ™°ç¤ºä¾‹ï¼Œè‡ªç„¶èå…¥ç¬”è®°æ¡†æ¶

## ğŸš€ å¿«é€Ÿå¼€å§‹

> **Claude Code ç”¨æˆ·æ³¨æ„**: åœ¨ Claude Code ä¸­ä½¿ç”¨æ­¤æŠ€èƒ½æ—¶,ç¯å¢ƒä¼šè‡ªåŠ¨æ£€æŸ¥ã€‚ä½ åªéœ€ç¡®ä¿å·²å®‰è£… FFmpegã€yt-dlp å’Œ Python ä¾èµ–,å¹¶é…ç½®å¥½ OpenRouter API å¯†é’¥ã€‚

### æ‰‹åŠ¨è®¾ç½®ï¼ˆç‹¬ç«‹ä½¿ç”¨ï¼‰

#### 1. å®‰è£…ç³»ç»Ÿä¾èµ–

- **FFmpeg** (éŸ³é¢‘æå–): [ä¸‹è½½ FFmpeg](https://ffmpeg.org/download.html)
- **yt-dlp** (è§†é¢‘ä¸‹è½½): `pip install yt-dlp`

#### 2. è®¾ç½® Python ç¯å¢ƒ

```bash
cd scripts

# å®‰è£… Python ä¾èµ–
pip install -r requirements.txt
# æˆ–ä½¿ç”¨ uv æ›´å¿«é€Ÿå®‰è£…:
# uv pip install -r requirements.txt
```

#### 3. é…ç½®ç¯å¢ƒ

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ .env å¹¶æ·»åŠ ä½ çš„ OpenRouter API å¯†é’¥
```

**`.env` é…ç½®**:
```env
# å¿…éœ€ï¼šOpenRouter API å¯†é’¥ï¼ˆä» https://openrouter.ai/ è·å–ï¼‰
OPENROUTER_API_KEY=sk-or-your-key-here

# å¯é€‰é…ç½®
AI_MODEL=google/gemini-2.5-flash
WHISPER_MODEL=base
DEFAULT_LANGUAGE=zh
OUTPUT_DIRECTORY=.
TEMP_DIRECTORY=./temp
LOG_LEVEL=INFO
MAX_VIDEO_LENGTH=7200
```

**è¯­è¨€é…ç½®è¯´æ˜:**
- `DEFAULT_LANGUAGE`: è®¾ç½®è½¬å½•å’ŒAIæ€»ç»“çš„é¦–é€‰è¯­è¨€
  - `zh` - ä¸­æ–‡ - **é»˜è®¤**
  - `en` - English (è‹±è¯­)
  - `auto` - è‡ªåŠ¨æ£€æµ‹

**æ³¨æ„:** è¯­è¨€è®¾ç½®ä¼šåŒæ—¶å½±å“ Whisper è½¬å½•å’Œ AI ç”Ÿæˆçš„æ€»ç»“è¾“å‡ºè¯­è¨€ã€‚

**è·å– API å¯†é’¥**: è®¿é—® [OpenRouter.ai](https://openrouter.ai/)ï¼Œæ³¨å†Œè´¦æˆ·ï¼Œåˆ›å»º API å¯†é’¥ï¼Œå……å€¼ï¼ˆ$5-10 è¶³å¤Ÿå¤„ç†æ•°ç™¾ä¸ªè§†é¢‘ï¼‰ã€‚

## ğŸ’» ä½¿ç”¨æ–¹æ³•

### Claude Code é›†æˆ

åœ¨ Claude Code ä¸­ä½¿ç”¨è‡ªç„¶è¯­è¨€ä¸æŠ€èƒ½äº¤äº’ï¼š

**åŸºç¡€ç”¨æ³•:**
```
è¯·å°†è¿™ä¸ªYouTubeè§†é¢‘è½¬æ¢ä¸ºç¬”è®°ï¼šhttps://www.youtube.com/watch?v=dQw4w9WgXcQ
```

```
è¯·å°†è¿™ä¸ªBilibiliè§†é¢‘è½¬æ¢ä¸ºä¸­æ–‡ç¬”è®°ï¼šhttps://www.bilibili.com/video/BV1LzqLBaE1B
```

**æŒ‡å®šè¯­è¨€:**
```
è¯·ç”¨è‹±è¯­æ€»ç»“è¿™ä¸ªè§†é¢‘ï¼šhttps://www.youtube.com/watch?v=VIDEO_ID
```

```
è¯·ç”¨ä¸­æ–‡æ€»ç»“è¿™ä¸ªè§†é¢‘ï¼šhttps://www.bilibili.com/video/BV...
```

**ä¿å­˜åˆ°æ–‡ä»¶:**
```
è¯·å¤„ç†è¿™ä¸ªè§†é¢‘å¹¶å°†ç¬”è®°ä¿å­˜åˆ° ./notes ç›®å½•ï¼šhttps://...
```

```
è¯·å¤„ç†è¿™ä¸ªè§†é¢‘å¹¶å°†ç¬”è®°ä¿å­˜åˆ° my_notes æ–‡ä»¶å¤¹ï¼šhttps://...
```

**é«˜çº§é€‰é¡¹:**
```
è¯·ä½¿ç”¨ Claude AI æ¨¡å‹æ€»ç»“è¿™ä¸ªè§†é¢‘ï¼šhttps://...
```

```
è¯·ç”¨ Gemini AI æ¨¡å‹å¤„ç†è¿™ä¸ªè§†é¢‘å¹¶ç”Ÿæˆç¬”è®°ï¼šhttps://...
```

**å¤šè¯­è¨€æ”¯æŒ:**
- ä¸­æ–‡: "è¯·å°†è¿™ä¸ªè§†é¢‘è½¬æ¢ä¸ºä¸­æ–‡ç¬”è®°"
- è‹±æ–‡: "Convert this video to English notes"
- è‡ªåŠ¨æ£€æµ‹: "Convert this video to notes" (è¯­è¨€å°†è‡ªåŠ¨æ£€æµ‹)

## âš™ï¸ å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|------|
| `url` | string | âœ… æ˜¯ | è§†é¢‘é“¾æ¥ï¼ˆYouTube æˆ– Bilibiliï¼‰ | `https://www.youtube.com/watch?v=...`<br>`https://www.bilibili.com/video/BV...` |
| `--language` | string | å¦ | è½¬å½•è¯­è¨€ä»£ç  | `zh` (ä¸­æ–‡)<br>`en` (è‹±æ–‡)<br>`auto` (è‡ªåŠ¨æ£€æµ‹) |
| `--ai-model` | string | å¦ | ç”¨äºæ€»ç»“çš„ AI æ¨¡å‹ | `google/gemini-2.5-flash` (æ¨è)<br>`anthropic/claude-3.5-sonnet`<br>`openai/gpt-4-turbo` |
| `--save-to-file` | flag | å¦ | å°†è¾“å‡ºä¿å­˜åˆ° markdown æ–‡ä»¶ | `--save-to-file` |
| `--output-path` | string | å¦ | è¾“å‡ºç›®å½•è·¯å¾„ | `./my_notes`<br>`../notes`<br>`/path/to/notes` |
| `--verbose` | flag | å¦ | å¯ç”¨è¯¦ç»†æ—¥å¿— | `--verbose` |

### è¯­è¨€é€‰é¡¹

| ä»£ç  | è¯­è¨€ | ç¤ºä¾‹ç”¨æ³• |
|------|------|----------|
| `auto` | è‡ªåŠ¨æ£€æµ‹ï¼ˆé»˜è®¤ï¼‰ | `--language auto` |
| `zh` | ä¸­æ–‡ | `--language zh` |
| `en` | English | `--language en` |

### AI æ¨¡å‹é€‰é¡¹

| æ¨¡å‹ | æä¾›å•† | é€Ÿåº¦ | æˆæœ¬ | è´¨é‡ | é€‚ç”¨åœºæ™¯ |
|------|--------|------|------|------|----------|
| `google/gemini-2.5-flash` | Google | â­â­â­â­â­ | â­ | â­â­â­â­ | **æ¨è** - å¿«é€Ÿã€ç»æµ |
| `anthropic/claude-3.5-sonnet` | Anthropic | â­â­â­â­ | â­â­â­ | â­â­â­â­â­ | æœ€ä½³è´¨é‡ï¼Œè¯¦ç»†åˆ†æ |
| `openai/gpt-4-turbo` | OpenAI | â­â­â­ | â­â­ | â­â­â­â­ | é«˜è´¨é‡ï¼Œå¹³è¡¡ |

### è¾“å‡ºè·¯å¾„é€‰é¡¹

| è·¯å¾„ç±»å‹ | ç¤ºä¾‹ | è¯´æ˜ |
|----------|------|------|
| å½“å‰ç›®å½• | `.` | å½“å‰ç›®å½•ï¼ˆé»˜è®¤ï¼‰ |
| ç›¸å¯¹è·¯å¾„ | `./notes` | ç›¸å¯¹äºå½“å‰ä½ç½®çš„å­ç›®å½• |
| ç›¸å¯¹è·¯å¾„ | `../my_notes` | ä¸Šçº§ç›®å½• |
| ç»å¯¹è·¯å¾„ | `/Users/name/Desktop/notes` | å®Œæ•´ç³»ç»Ÿè·¯å¾„ |

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

ç”Ÿæˆçš„ç¬”è®°å…·æœ‰ä»¥ä¸‹æ ¼å¼ç‰¹æ€§ï¼š

**æ ¼å¼å¢å¼º**ï¼š
- **ä»£ç æ ¼å¼åŒ–**ï¼šæŠ€æœ¯æœ¯è¯­ã€å‘½ä»¤ã€å‡½æ•°åä½¿ç”¨ `å•è¡Œä»£ç ` æ ¼å¼
- **å¤šè¡Œä»£ç å—**ï¼šä»£ç ç‰‡æ®µä½¿ç”¨æ­£ç¡®çš„ ``` è¯­æ³•å’Œè¯­è¨€æ ‡è¯†ç¬¦
- **æ™ºèƒ½ç¤ºä¾‹**ï¼šå½“æ¦‚å¿µå¤æ‚æˆ–æŠ½è±¡æ—¶ï¼ŒAI ä¼šæä¾›å…·ä½“ç¤ºä¾‹ï¼š
  - ç´§å¯†å›´ç»•è§†é¢‘å†…å®¹
  - è‡ªç„¶èå…¥ç¬”è®°ç»“æ„
  - å¸®åŠ©æ¾„æ¸…æŠ€æœ¯ç»†èŠ‚æˆ–æŠ½è±¡æ¦‚å¿µ
  - é¿å…è¿‡åº¦æ‰©å±•çš„åŒæ—¶ä¿æŒæ¸…æ™°

**ç¤ºä¾‹ç»“æ„**ï¼š

```markdown
# åŸºäºè§†é¢‘å†…å®¹çš„ç²¾ç‚¼æ ‡é¢˜

**æ¥æº**: https://www.youtube.com/watch?v=...
**æ—¶é•¿**: 0:08:45
**ä½œè€…**: é¢‘é“åç§°
**å¤„ç†æ—¶é—´**: 2025-01-15 14:30:00

> **æ ¸å¿ƒè¦ç‚¹**
> 1. ç¬¬ä¸€ä¸ªå…³é”®è¦ç‚¹
> 2. ç¬¬äºŒä¸ªå…³é”®è¦ç‚¹
> 3. ç¬¬ä¸‰ä¸ªå…³é”®è¦ç‚¹

## 1. ç« èŠ‚æ ‡é¢˜

è¯¦ç»†å†…å®¹ï¼ŒåŒ…å«æ­£ç¡®çš„æ ¼å¼ã€‚æŠ€æœ¯æœ¯è¯­å¦‚ `React` å’Œ `HTTP` ä½¿ç”¨è¡Œå†…ä»£ç æ ¼å¼ã€‚
åœ¨è®¨è®ºå®ç°æ—¶ï¼š

```python
# å¸¦è¯­æ³•é«˜äº®çš„ç¤ºä¾‹ä»£ç 
def example_function():
    return "Hello World"
```

è§†é¢‘é€šè¿‡ä¸€ä¸ªå®é™…ç¤ºä¾‹è§£é‡Šäº†è¿™ä¸ªæ¦‚å¿µï¼šæƒ³è±¡è¿™æ ·ä¸€ä¸ªåœºæ™¯...

### 1.1 å­ç« èŠ‚æ ‡é¢˜

æ›´è¯¦ç»†çš„å†…å®¹ï¼Œåœ¨éœ€è¦æ—¶è‡ªç„¶åœ°æ•´åˆç¤ºä¾‹...

## 2. ä¸‹ä¸€ä¸ªç« èŠ‚æ ‡é¢˜

...
```

## âš™ï¸ é…ç½®å‚è€ƒ

### ç¯å¢ƒå˜é‡

| å˜é‡ | å¿…éœ€ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `OPENROUTER_API_KEY` | âœ… æ˜¯ | - | OpenRouter API å¯†é’¥ï¼ˆç”¨äº AI æ€»ç»“ï¼‰ |
| `AI_MODEL` | å¦ | `anthropic/claude-3.5-sonnet` | ç”¨äºæ€»ç»“çš„ AI æ¨¡å‹ |
| `WHISPER_MODEL` | å¦ | `base` | Whisper æ¨¡å‹å¤§å° (tiny/base/small/medium/large) |
| `DEFAULT_LANGUAGE` | å¦ | `zh` | è½¬å½•å’Œæ€»ç»“çš„é»˜è®¤è¯­è¨€ (zh/en/auto) |
| `OUTPUT_DIRECTORY` | å¦ | `.` | ç¬”è®°ä¿å­˜ç›®å½•ï¼ˆé»˜è®¤ï¼šå½“å‰ç›®å½•ï¼‰ |
| `TEMP_DIRECTORY` | å¦ | `./temp` | ä¸´æ—¶ç›®å½•ï¼ˆå§‹ç»ˆåœ¨skillæ–‡ä»¶å¤¹ä¸­ï¼Œè‡ªåŠ¨åˆ›å»ºï¼‰ |
| `LOG_LEVEL` | å¦ | `INFO` | æ—¥å¿—çº§åˆ« (DEBUG, INFO, WARNING, ERROR) |
| `MAX_VIDEO_LENGTH` | å¦ | `7200` | æœ€å¤§è§†é¢‘é•¿åº¦ï¼ˆç§’ï¼Œ2å°æ—¶ï¼‰ |

### Whisper æ¨¡å‹

| æ¨¡å‹ | å¤§å° | å†…å­˜/æ˜¾å­˜ | é€Ÿåº¦ | ç²¾åº¦ | æ¨èåœºæ™¯ |
|------|------|----------|------|------|----------|
| `tiny` | ~39 MB | ~1 GB | æœ€å¿« | åŸºç¡€ | å¿«é€Ÿé¢„è§ˆã€ä½é…ç½®ç¡¬ä»¶ |
| `base` | ~74 MB | ~1 GB | å¿« | è‰¯å¥½ | **é»˜è®¤** - å¹³è¡¡æ€§èƒ½ |
| `small` | ~244 MB | ~2 GB | ä¸­ç­‰ | è¾ƒå¥½ | ä¸€èˆ¬ç”¨é€”ï¼Œæœ‰ç‹¬æ˜¾ |
| `medium` | ~769 MB | ~5 GB | æ…¢ | é«˜ | è´¨é‡ä¼˜å…ˆ |
| `large` | ~1550 MB | ~10 GB | æœ€æ…¢ | æœ€ä½³ | ä¸“ä¸šè½¬å½• |

## âš¡ æ€§èƒ½

**å¤„ç†æ—¶é—´ï¼ˆ8åˆ†é’Ÿè§†é¢‘ï¼Œbase æ¨¡å‹ï¼‰**:
- è§†é¢‘ä¸‹è½½ï¼š~7 ç§’
- éŸ³é¢‘æå–ï¼š~1 ç§’
- æœ¬åœ° Whisper è½¬å½•ï¼š~30-60 ç§’ï¼ˆCPUï¼‰æˆ– ~10-20 ç§’ï¼ˆGPUï¼‰
- AI æ€»ç»“ï¼š~5-6 ç§’
- **æ€»è®¡ï¼š~50-80 ç§’ï¼ˆCPUï¼‰æˆ– ~25-35 ç§’ï¼ˆGPUï¼‰**

**é¦–æ¬¡è¿è¡Œ**ï¼šä¸‹è½½ Whisper æ¨¡å‹ï¼ˆbase æ¨¡å‹çº¦ 150MBï¼‰

## ğŸ’° æˆæœ¬

**æ¯ä¸ª 8åˆ†é’Ÿè§†é¢‘**:
- æœ¬åœ° Whisper è½¬å½•ï¼š**å…è´¹**ï¼ˆä½¿ç”¨ä½ çš„ç¡¬ä»¶ï¼‰
- OpenRouterï¼ˆGemini 2.5 Flashï¼‰ï¼š~$0.02-0.05
- **æ€»è®¡ï¼šçº¦ $0.02-0.05/è§†é¢‘**

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

- **è§†é¢‘ä¸‹è½½**: [yt-dlp](https://github.com/yt-dlp/yt-dlp)
- **éŸ³é¢‘æå–**: [FFmpeg](https://ffmpeg.org/)
- **è¯­éŸ³è½¬å½•**: [OpenAI Whisper](https://github.com/openai/whisper) (æœ¬åœ°)
- **AI æ€»ç»“**: [OpenRouter](https://openrouter.ai/) (Claude/Gemini ç­‰)
- **ç¯å¢ƒç®¡ç†**: [uv](https://github.com/astral-sh/uv) (æ¨è)

## ğŸ“œ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## ğŸ™ è‡´è°¢

- [yt-dlp](https://github.com/yt-dlp/yt-dlp) - è§†é¢‘ä¸‹è½½
- [FFmpeg](https://ffmpeg.org/) - éŸ³é¢‘æå–
- [OpenAI Whisper](https://github.com/openai/whisper) - æœ¬åœ°è½¬å½•
- [OpenRouter](https://openrouter.ai/) - AI æ€»ç»“

---

<div align="center">

â­ **å¦‚æœæœ‰ç”¨è¯·ç»™ä¸ª Starï¼**

[â¬† è¿”å›é¡¶éƒ¨](#video-to-notes-skill--è§†é¢‘è½¬ç¬”è®°æŠ€èƒ½)

</div>
